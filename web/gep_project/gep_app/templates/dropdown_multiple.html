<script type="application/javascript" src="{% static 'gep_app/js/dropdown_multiple.js' %}"></script>
{% with id=widget.attrs.id %}
<div {% if id %} id="{{ id }}"{% endif %} class="dropdown {% if widget.attrs.class %}{{ widget.attrs.class }}{% endif %}">
	<div id="dropdown-btn" class="dropdown-toggle form-control" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">No slots chosen</div>
	<div class="dropdown-menu" aria-labelledby="dropdown-btn">
		{% for group, options, index in widget.optgroups %}
			{% if group %}
				<div class="form-check dropdown-item">{{ group }}<div{% if id %} id="{{ id }}_{{ index }}"{% endif %}>
			{% endif %}
			{% for option in options %}
				<div class="form-check dropdown-item">
					{% include option.template_name with widget=option %}{% endfor %}
				</div>
			{% if group %}
				</div></div>
			{% endif %}
		<div class="form-check dropdown-item">
			<input class="form-check-input" type="checkbox" id="slot_{{slot.0}}" value="{{slot.0}}">
			<label class="form-check-label" for="slot_{{slot.0}}">{{slot.1}}</label>
		</div>
		{% endfor %}
	</div>
	<input type="hidden" id="dropdown-content"/>
	{% endwith %}
</div>